<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Play</title><link rel="stylesheet" href="style.css"></head>
<body>
  <div class="container">
    <div class="card" id="gameCard">
      <!-- filled by script -->
    </div>
    <div style="text-align:center;margin-top:18px">
      <button class="btn btn-outline" onclick="location.href='index.html'">Back</button>
    </div>
  </div>
<script>
  async function loadGame(){
    const params = new URLSearchParams(location.search);
    const id = params.get('id');
    if(!id) { document.getElementById('gameCard').innerText = "No game specified"; return; }
    const res = await fetch('/api/game?id=' + encodeURIComponent(id));
    const g = await res.json();
    if(!g) { document.getElementById('gameCard').innerText = "Not found"; return; }
    document.getElementById('gameCard').innerHTML = `
      <h2>${g.title}</h2>
      <img src="${g.image_path || '/uploads/placeholder.png'}" style="width:100%;max-height:360px;object-fit:cover;border-radius:8px;margin:12px 0">
      <p class="small">${g.description || ''}</p>
      <div style="margin-top:12px">
        ${g.file_path ? `<a href="${g.file_path}" target="_blank"><button class="btn btn-primary">Open File</button></a>` : (g.link ? `<a href="${g.link}" target="_blank"><button class="btn btn-primary">Open Link</button></a>` : '')}
      </div>
    `;
  }
  loadGame();
</script>
</body>
</html>
